<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ–∫-–ª–∏—Å—Ç–∞–º–∏ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–∞–π—Ç–æ–≤</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0a0a;
            color: #e0e0e0;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        h1 {
            color: #d4af37;
            margin-bottom: 10px;
            font-size: 2em;
        }

        .subtitle {
            color: #999;
            font-size: 0.9em;
        }

        .dashboard {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .sites-panel {
            background: #1a1a1a;
            border-radius: 10px;
            padding: 20px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .sites-panel h2 {
            color: #d4af37;
            margin-bottom: 15px;
            font-size: 1.3em;
            border-bottom: 2px solid #333;
            padding-bottom: 10px;
        }

        .site-item {
            padding: 12px;
            margin: 8px 0;
            background: #2a2a2a;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 3px solid transparent;
            position: relative;
        }

        .site-item:hover {
            background: #333;
            transform: translateX(5px);
        }

        .site-item.active {
            border-left-color: #d4af37;
            background: #333;
        }

        .site-name {
            font-weight: bold;
            color: #e0e0e0;
            margin-bottom: 5px;
        }

        .site-progress {
            font-size: 0.85em;
            color: #999;
        }

        .progress-bar-mini {
            width: 100%;
            height: 4px;
            background: #1a1a1a;
            border-radius: 2px;
            margin-top: 5px;
            overflow: hidden;
        }

        .progress-fill-mini {
            height: 100%;
            background: linear-gradient(90deg, #4caf50, #45a049);
            transition: width 0.3s;
        }

        .stats-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: #1a1a1a;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #d4af37;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #999;
            font-size: 0.9em;
        }

        .checklist-container {
            background: #1a1a1a;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .checklist-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #333;
        }

        .checklist-title {
            font-size: 1.5em;
            color: #d4af37;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        button {
            padding: 10px 20px;
            background: #2a2a2a;
            color: #e0e0e0;
            border: 1px solid #444;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s;
        }

        button:hover {
            background: #333;
            border-color: #d4af37;
            color: #d4af37;
        }

        button.secondary {
            background: #1a4d1a;
            border-color: #4caf50;
        }

        button.secondary:hover {
            background: #2d6d2d;
        }

        .section {
            margin-bottom: 25px;
            background: #2a2a2a;
            padding: 20px;
            border-radius: 8px;
        }

        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            font-size: 1.2em;
            color: #d4af37;
            font-weight: bold;
        }

        .section-header .icon {
            margin-right: 10px;
            font-size: 1.3em;
        }

        .checklist-item {
            padding: 12px;
            margin: 8px 0;
            background: #1a1a1a;
            border-radius: 5px;
            display: flex;
            align-items: center;
            transition: all 0.3s;
        }

        .checklist-item:hover {
            background: #222;
        }

        .checklist-item.checked {
            background: #1a3a1a;
            border-left: 3px solid #4caf50;
        }

        .checklist-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 12px;
            cursor: pointer;
        }

        .checklist-item label {
            flex: 1;
            cursor: pointer;
            user-select: text;
            color: #e0e0e0;
        }

        .checklist-item.checked label {
            color: #a0e0a0;
            text-decoration: line-through;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: #1a1a1a;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4caf50, #45a049);
            transition: width 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-weight: bold;
            font-size: 0.9em;
        }

        .no-site-selected {
            text-align: center;
            padding: 60px 20px;
            color: #666;
            font-size: 1.2em;
        }

        .search-box {
            margin-bottom: 15px;
        }

        .search-box input {
            width: 100%;
            padding: 10px;
            background: #2a2a2a;
            border: 1px solid #444;
            border-radius: 5px;
            color: #e0e0e0;
            font-size: 0.9em;
        }

        .search-box input:focus {
            outline: none;
            border-color: #d4af37;
        }

        .export-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        @media (max-width: 1024px) {
            .dashboard {
                grid-template-columns: 1fr;
            }

            .sites-panel {
                max-height: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìä –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ–∫-–ª–∏—Å—Ç–∞–º–∏</h1>
            <p class="subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∫–∞—á–µ—Å—Ç–≤–∞ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–∞–π—Ç–æ–≤</p>
        </header>

        <div class="stats-overview" id="statsOverview">
            <div class="stat-card">
                <div class="stat-number" id="totalSites">25</div>
                <div class="stat-label">–í—Å–µ–≥–æ —Å–∞–π—Ç–æ–≤</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="checkedSites">0</div>
                <div class="stat-label">–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="avgProgress">0%</div>
                <div class="stat-label">–°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="inProgressSites">0</div>
                <div class="stat-label">–í —Ä–∞–±–æ—Ç–µ</div>
            </div>
        </div>

        <div class="dashboard">
            <div class="sites-panel">
                <h2>üìÅ –°–ø–∏—Å–æ–∫ —Å–∞–π—Ç–æ–≤</h2>
                <div class="search-box">
                    <input type="text" id="siteSearch" placeholder="üîç –ü–æ–∏—Å–∫ —Å–∞–π—Ç–∞..." oninput="filterSites()">
                </div>
                <div id="sitesList"></div>
            </div>

            <div class="checklist-container">
                <div id="noSiteSelected" class="no-site-selected">
                    üëà –í—ã–±–µ—Ä–∏—Ç–µ —Å–∞–π—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ –¥–ª—è –Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
                </div>

                <div id="checklistContent" style="display: none;">
                    <div class="checklist-header">
                        <div>
                            <div class="checklist-title" id="currentSiteName">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞</div>
                            <div style="color: #999; font-size: 0.9em; margin-top: 5px;" id="currentSitePath"></div>
                        </div>
                        <div style="text-align: right;">
                            <div style="color: #999; font-size: 0.9em;">–ü—Ä–æ–≥—Ä–µ—Å—Å</div>
                            <div style="font-size: 1.5em; color: #d4af37; font-weight: bold;" id="currentProgress">0%</div>
                        </div>
                    </div>

                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%">0%</div>
                    </div>

                    <div class="controls">
                        <button onclick="checkAll()">‚úÖ –û—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ</button>
                        <button onclick="uncheckAll()">‚ùå –°–Ω—è—Ç—å –≤—Å–µ</button>
                        <button onclick="exportReport()" class="secondary">üìÑ –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–∞</button>
                        <button onclick="exportAllReports()" class="secondary">üìä –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –æ—Ç—á–µ—Ç–æ–≤</button>
                    </div>

                    <div id="checklistSections"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–∞–π—Ç–æ–≤
        const sites = [
            'Akƒ±l Oyunlarƒ±',
            'Akƒ±lKulesi',
            'FunnyGames',
            'IQ Oyunlarƒ±',
            'Kraken Games',
            'Logic Games',
            'Logic Games2',
            'Logic Games3',
            'Logika',
            'logika2',
            'logika3',
            'Mantik Oyunlari',
            'Mantik Oyunlari 2',
            'MantikOyun',
            'Mantƒ±k Oyunlarƒ±',
            'MindGames',
            'Oyunlari',
            'Sea Games',
            'Zeka D√ºnyasƒ±',
            'Zeka Oyunlarƒ±',
            'Zeka Platformu',
            'ZekaD√ºnyasƒ±',
            'ZekaD√ºnyasƒ±2',
            'ZekaD√ºnyass',
            'ZekaOyunlarƒ±'
        ];

        let currentSite = null;
        const checklistItems = [
            // –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
            { category: '–ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è', items: [
                { id: 'mobile-view', text: '–ù–∞–∂–∞—Ç—å F12 –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–∞–π—Ç–∞' },
                { id: 'mobile-console', text: '–í—ã–±—Ä–∞—Ç—å –º–æ–±–∏–ª—å–Ω—ã–π –≤–∏–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏ (—Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)' },
                { id: 'mobile-responsive', text: '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã' },
                { id: 'mobile-menu-button', text: '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é –≤ —à–∞–ø–∫–µ' },
                { id: 'mobile-menu-links', text: '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –Ω–∞ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã' },
                { id: 'mobile-menu-click', text: '–ö–ª–∏–∫–Ω—É—Ç—å –ø–æ –≤—Å–µ–º —Å—Å—ã–ª–∫–∞–º –≤ –º–µ–Ω—é' },
                { id: 'mobile-pages-open', text: '–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ' }
            ]},
            // –ö–æ–Ω—Ç–µ–Ω—Ç –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
            { category: '–ö–æ–Ω—Ç–µ–Ω—Ç –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞', items: [
                { id: 'hero-structure', text: '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Ä–∞–∑–¥–µ–ª–∞ Hero (–•–µ—Ä–æ)' },
                { id: 'hero-images', text: '–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –Ω–µ –æ–±—Ä–µ–∑–∞–Ω—ã' },
                { id: 'hero-mobile', text: '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏' },
                { id: 'interactive-mobile', text: '–ï—Å–ª–∏ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –µ—Å—Ç—å —Ç–µ—Å—Ç –∏–ª–∏ –∏–≥—Ä–∞: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏' }
            ]},
            // –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
            { category: '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏', items: [
                { id: 'favicon-exists', text: '–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –µ—Å—Ç—å –∏–∫–æ–Ω–∫–∞ (favicon)' },
                { id: 'favicon-display', text: '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∫–æ–Ω–∫–∏ –≤–æ –≤–∫–ª–∞–¥–∫–µ –±—Ä–∞—É–∑–µ—Ä–∞' },
                { id: 'contacts-map', text: '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤' },
                { id: 'contact-address-real', text: '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥—Ä–µ—Å –≤ —Ä–∞–∑–¥–µ–ª–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤: –ê–¥—Ä–µ—Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π (–Ω–µ —à–∞–±–ª–æ–Ω–Ω—ã–π)' },
                { id: 'contact-phone-real', text: '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: –ù–æ–º–µ—Ä —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π (–Ω–µ —à–∞–±–ª–æ–Ω–Ω—ã–π)' },
                { id: 'documents-display', text: '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (Privacy Policy, Terms –∏ —Ç.–¥.)' },
                { id: 'documents-content', text: '–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö' },
                { id: 'documents-readable', text: '–¢–µ–∫—Å—Ç —á–∏—Ç–∞–µ–º—ã–π –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π' },
                { id: 'footer-documents', text: '–í —Ñ—É—Ç–µ—Ä–µ –¥–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Å–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ –º–∏–Ω–∏–º—É–º —Ç—Ä–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞: Privacy Policy, Cookie Policy –∏ Terms' }
            ]},
            // –§–æ—Ä–º—ã –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
            { category: '–§–æ—Ä–º—ã –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è', items: [
                { id: 'thank-you-open', text: '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–∫—Ä—ã—Ç–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã "–°–ø–∞—Å–∏–±–æ"' }
            ]},
            // –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
            { category: '–ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞', items: [
                { id: 'final-all-checked', text: '–í—Å–µ –ø—É–Ω–∫—Ç—ã –≤—ã—à–µ –æ—Ç–º–µ—á–µ–Ω—ã' },
                { id: 'final-pc-mobile-tested', text: '–°–∞–π—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ –ü–ö-–≤–µ—Ä—Å–∏–∏ –∏ –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏' },
                { id: 'final-links-work', text: '–í—Å–µ —Å—Å—ã–ª–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç' },
                { id: 'final-forms-work', text: '–í—Å–µ —Ñ–æ—Ä–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç' },
                { id: 'final-content-correct', text: '–ö–æ–Ω—Ç–µ–Ω—Ç –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¢–ó' }
            ]}
        ];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            renderSitesList();
            updateStats();
        });

        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å–ø–∏—Å–∫–∞ —Å–∞–π—Ç–æ–≤
        function renderSitesList() {
            const container = document.getElementById('sitesList');
            container.innerHTML = '';

            sites.forEach(site => {
                const progress = getSiteProgress(site);
                const item = document.createElement('div');
                item.className = 'site-item';
                item.onclick = () => selectSite(site);
                
                item.innerHTML = `
                    <div class="site-name">${site}</div>
                    <div class="site-progress">${progress.checked}/${progress.total} (${progress.percentage}%)</div>
                    <div class="progress-bar-mini">
                        <div class="progress-fill-mini" style="width: ${progress.percentage}%"></div>
                    </div>
                `;
                
                container.appendChild(item);
            });
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Å–∞–π—Ç–∞
        function getSiteProgress(site) {
            const saved = localStorage.getItem(`qa_site_${site}`);
            if (!saved) {
                return { checked: 0, total: getTotalItems(), percentage: 0 };
            }
            
            const progress = JSON.parse(saved);
            const checked = Object.values(progress).filter(v => v === true).length;
            const total = getTotalItems();
            const percentage = total > 0 ? Math.round((checked / total) * 100) : 0;
            
            return { checked, total, percentage };
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—É–Ω–∫—Ç–æ–≤
        function getTotalItems() {
            return checklistItems.reduce((sum, section) => sum + section.items.length, 0);
        }

        // –í—ã–±–æ—Ä —Å–∞–π—Ç–∞
        function selectSite(site) {
            currentSite = site;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ —Å–ø–∏—Å–∫–µ
            document.querySelectorAll('.site-item').forEach(item => {
                item.classList.remove('active');
                if (item.querySelector('.site-name').textContent === site) {
                    item.classList.add('active');
                }
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —á–µ–∫-–ª–∏—Å—Ç
            document.getElementById('noSiteSelected').style.display = 'none';
            document.getElementById('checklistContent').style.display = 'block';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
            document.getElementById('currentSiteName').textContent = site;
            document.getElementById('currentSitePath').textContent = `–ü—É—Ç—å: –¥–∏–∑–∞–π–Ω–µ—Ä25/${site}`;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            loadSiteProgress(site);
            
            // –†–µ–Ω–¥–µ—Ä–∏–º —á–µ–∫-–ª–∏—Å—Ç
            renderChecklist();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            updateProgress();
        }

        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —á–µ–∫-–ª–∏—Å—Ç–∞
        function renderChecklist() {
            const container = document.getElementById('checklistSections');
            container.innerHTML = '';

            checklistItems.forEach(section => {
                const sectionDiv = document.createElement('div');
                sectionDiv.className = 'section';
                
                const header = document.createElement('div');
                header.className = 'section-header';
                header.innerHTML = `<span class="icon">üìã</span><span>${section.category}</span>`;
                sectionDiv.appendChild(header);
                
                section.items.forEach(item => {
                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'checklist-item';
                    itemDiv.setAttribute('data-id', item.id);
                    
                    const checkbox = document.createElement('input');
                    checkbox.type = 'checkbox';
                    checkbox.id = `check_${item.id}`;
                    checkbox.onchange = () => {
                        updateItemStyle(checkbox);
                        saveSiteProgress();
                        updateProgress();
                        updateStats();
                        renderSitesList();
                    };
                    
                    const label = document.createElement('label');
                    label.setAttribute('for', `check_${item.id}`);
                    label.textContent = item.text;
                    
                    itemDiv.appendChild(checkbox);
                    itemDiv.appendChild(label);
                    sectionDiv.appendChild(itemDiv);
                });
                
                container.appendChild(sectionDiv);
            });
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å
            loadSiteProgress(currentSite);
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Å–∞–π—Ç–∞
        function loadSiteProgress(site) {
            const saved = localStorage.getItem(`qa_site_${site}`);
            if (!saved) return;
            
            const progress = JSON.parse(saved);
            Object.keys(progress).forEach(key => {
                const checkbox = document.getElementById(`check_${key}`);
                if (checkbox) {
                    checkbox.checked = progress[key];
                    updateItemStyle(checkbox);
                }
            });
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Å–∞–π—Ç–∞
        function saveSiteProgress() {
            if (!currentSite) return;
            
            const progress = {};
            document.querySelectorAll('#checklistSections input[type="checkbox"]').forEach(checkbox => {
                const id = checkbox.id.replace('check_', '');
                progress[id] = checkbox.checked;
            });
            
            localStorage.setItem(`qa_site_${currentSite}`, JSON.stringify(progress));
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞
        function updateItemStyle(checkbox) {
            const item = checkbox.closest('.checklist-item');
            if (checkbox.checked) {
                item.classList.add('checked');
            } else {
                item.classList.remove('checked');
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        function updateProgress() {
            if (!currentSite) return;
            
            const checkboxes = document.querySelectorAll('#checklistSections input[type="checkbox"]');
            const total = checkboxes.length;
            const checked = Array.from(checkboxes).filter(cb => cb.checked).length;
            const percentage = total > 0 ? Math.round((checked / total) * 100) : 0;
            
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressFill').textContent = percentage + '%';
            document.getElementById('currentProgress').textContent = percentage + '%';
        }

        // –û—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ
        function checkAll() {
            document.querySelectorAll('#checklistSections input[type="checkbox"]').forEach(cb => {
                cb.checked = true;
                updateItemStyle(cb);
            });
            saveSiteProgress();
            updateProgress();
            updateStats();
            renderSitesList();
        }

        // –°–Ω—è—Ç—å –≤—Å–µ
        function uncheckAll() {
            document.querySelectorAll('#checklistSections input[type="checkbox"]').forEach(cb => {
                cb.checked = false;
                updateItemStyle(cb);
            });
            saveSiteProgress();
            updateProgress();
            updateStats();
            renderSitesList();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function updateStats() {
            let totalChecked = 0;
            let totalProgress = 0;
            let inProgress = 0;
            
            sites.forEach(site => {
                const progress = getSiteProgress(site);
                totalProgress += progress.percentage;
                if (progress.percentage === 100) {
                    totalChecked++;
                } else if (progress.checked > 0) {
                    inProgress++;
                }
            });
            
            document.getElementById('totalSites').textContent = sites.length;
            document.getElementById('checkedSites').textContent = totalChecked;
            document.getElementById('avgProgress').textContent = Math.round(totalProgress / sites.length) + '%';
            document.getElementById('inProgressSites').textContent = inProgress;
        }

        // –ü–æ–∏—Å–∫ —Å–∞–π—Ç–æ–≤
        function filterSites() {
            const search = document.getElementById('siteSearch').value.toLowerCase();
            document.querySelectorAll('.site-item').forEach(item => {
                const siteName = item.querySelector('.site-name').textContent.toLowerCase();
                item.style.display = siteName.includes(search) ? 'block' : 'none';
            });
        }

        // –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Å–∞–π—Ç–∞
        function exportReport() {
            if (!currentSite) {
                alert('–í—ã–±–µ—Ä–∏—Ç–µ —Å–∞–π—Ç –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞');
                return;
            }
            
            const progress = getSiteProgress(currentSite);
            let report = `–û–¢–ß–ï–¢ –ü–û –ü–†–û–í–ï–†–ö–ï –°–ê–ô–¢–ê: ${currentSite}\n`;
            report += `–î–∞—Ç–∞: ${new Date().toLocaleString('ru-RU')}\n`;
            report += `–ü—Ä–æ–≥—Ä–µ—Å—Å: ${progress.checked}/${progress.total} (${progress.percentage}%)\n`;
            report += '='.repeat(60) + '\n\n';
            
            checklistItems.forEach(section => {
                report += `${section.category}\n`;
                report += '-'.repeat(60) + '\n';
                
                section.items.forEach(item => {
                    const checkbox = document.getElementById(`check_${item.id}`);
                    const status = checkbox && checkbox.checked ? '[‚úì]' : '[ ]';
                    report += `${status} ${item.text}\n`;
                });
                
                report += '\n';
            });
            
            // –°–æ–∑–¥–∞–µ–º –∏ —Å–∫–∞—á–∏–≤–∞–µ–º —Ñ–∞–π–ª
            const blob = new Blob([report], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `report_${currentSite}_${new Date().toISOString().split('T')[0]}.txt`;
            a.click();
            URL.revokeObjectURL(url);
        }

        // –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –æ—Ç—á–µ—Ç–æ–≤
        function exportAllReports() {
            let allReports = `–°–í–û–î–ù–´–ô –û–¢–ß–ï–¢ –ü–û –í–°–ï–ú –°–ê–ô–¢–ê–ú\n`;
            allReports += `–î–∞—Ç–∞: ${new Date().toLocaleString('ru-RU')}\n`;
            allReports += '='.repeat(60) + '\n\n';
            
            sites.forEach(site => {
                const progress = getSiteProgress(site);
                allReports += `\n${site}\n`;
                allReports += `–ü—Ä–æ–≥—Ä–µ—Å—Å: ${progress.checked}/${progress.total} (${progress.percentage}%)\n`;
                allReports += '-'.repeat(60) + '\n';
                
                const saved = localStorage.getItem(`qa_site_${site}`);
                if (saved) {
                    const siteProgress = JSON.parse(saved);
                    checklistItems.forEach(section => {
                        section.items.forEach(item => {
                            if (siteProgress[item.id]) {
                                allReports += `[‚úì] ${item.text}\n`;
                            }
                        });
                    });
                }
                allReports += '\n';
            });
            
            const blob = new Blob([allReports], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `all_reports_${new Date().toISOString().split('T')[0]}.txt`;
            a.click();
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
